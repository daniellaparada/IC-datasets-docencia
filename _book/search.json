[
  {
    "objectID": "04_visualizacion.html",
    "href": "04_visualizacion.html",
    "title": "4  Visualización",
    "section": "",
    "text": "5 Acerca de los datos\nA continuación, se detallan aspectos de los datasets que conformaron el dataset reducido para el desarrollo del ejemplo, a la vez que se incluyen las fuentes de los datos y el código utilizado para pre-procesarlo con la sintaxis de tidyverse. De esta forma, puede fácilmente replicarse y/o adaptarse si así se lo desea.\nTambién se incluye el enlace de descarga al dataset reducido, sismos-arg.csv, con el que se desarrolló el ejemplo.\nLas librerías usadas para el desarrollo de este ejemplo, así como la información de la sesión de R, se muestran en el código que sigue.\nCódigo\nrequire(ggplot2)\nrequire(tidyverse)\nrequire(ggfortify)\nrequire(plotly)\nrequire(kableExtra)\nrequire(vroom)\nrequire(leaflet)\nrequire(lubridate)\nrequire(devtools)\nCódigo\nsessionInfo()\n\n\nR version 4.2.3 (2023-03-15 ucrt)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 10 x64 (build 22621)\n\nMatrix products: default\n\nlocale:\n[1] LC_COLLATE=Spanish_Argentina.utf8  LC_CTYPE=Spanish_Argentina.utf8   \n[3] LC_MONETARY=Spanish_Argentina.utf8 LC_NUMERIC=C                      \n[5] LC_TIME=Spanish_Argentina.utf8    \n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] datosIC_0.0.0.9000 devtools_2.4.5     usethis_2.1.6      leaflet_2.1.2     \n [5] vroom_1.6.1        kableExtra_1.3.4   plotly_4.10.1      ggfortify_0.4.16  \n [9] lubridate_1.9.2    forcats_1.0.0      stringr_1.5.0      dplyr_1.1.2       \n[13] purrr_1.0.1        readr_2.1.4        tidyr_1.3.0        tibble_3.2.1      \n[17] tidyverse_2.0.0    ggplot2_3.4.2     \n\nloaded via a namespace (and not attached):\n [1] httr_1.4.5              pkgload_1.3.2           bit64_4.0.5            \n [4] jsonlite_1.8.4          viridisLite_0.4.2       shiny_1.7.4            \n [7] highr_0.10              yaml_2.3.7              remotes_2.4.2          \n[10] sessioninfo_1.2.2       pillar_1.9.0            glue_1.6.2             \n[13] digest_0.6.31           promises_1.2.0.1        rvest_1.0.3            \n[16] leaflet.providers_1.9.0 colorspace_2.1-0        htmltools_0.5.5        \n[19] httpuv_1.6.9            pkgconfig_2.0.3         xtable_1.8-4           \n[22] scales_1.2.1            webshot_0.5.4           processx_3.8.0         \n[25] svglite_2.1.1           later_1.3.0             tzdb_0.3.0             \n[28] timechange_0.2.0        farver_2.1.1            generics_0.1.3         \n[31] ellipsis_0.3.2          cachem_1.0.7            withr_2.5.0            \n[34] lazyeval_0.2.2          cli_3.6.1               magrittr_2.0.3         \n[37] crayon_1.5.2            mime_0.12               memoise_2.0.1          \n[40] evaluate_0.20           ps_1.7.4                fs_1.6.1               \n[43] fansi_1.0.4             xml2_1.3.3              pkgbuild_1.4.0         \n[46] profvis_0.3.7           tools_4.2.3             data.table_1.14.8      \n[49] prettyunits_1.1.1       hms_1.1.3               lifecycle_1.0.3        \n[52] munsell_0.5.0           callr_3.7.3             compiler_4.2.3         \n[55] systemfonts_1.0.4       rlang_1.1.0             grid_4.2.3             \n[58] rstudioapi_0.14         htmlwidgets_1.6.2       crosstalk_1.2.0        \n[61] miniUI_0.1.1.1          labeling_0.4.2          rmarkdown_2.21         \n[64] gtable_0.3.3            curl_5.0.0              R6_2.5.1               \n[67] gridExtra_2.3           knitr_1.42              fastmap_1.1.1          \n[70] bit_4.0.5               utf8_1.2.3              stringi_1.7.12         \n[73] Rcpp_1.0.10             vctrs_0.6.1             urlchecker_1.0.1       \n[76] tidyselect_1.2.0        xfun_0.39"
  },
  {
    "objectID": "04_visualizacion.html#exploración-inicial",
    "href": "04_visualizacion.html#exploración-inicial",
    "title": "4  Visualización",
    "section": "4.1 Exploración inicial",
    "text": "4.1 Exploración inicial\nLos datos de sismos pueden obtenerse del buscador disponible en el INPRES, acá, en el que se registran eventos sísmicos en territorio argentino y diferentes variables asociadas a estos, en particular, si se trata de un sismo que se haya sentido o no.\nPara lo que sigue, trabajamos con el dataset reducido sismos-arg.csv en el que se incluyen datos de sismos de diferente intensidad y magnitud en la región continental del país (excluyendo Tierra del Fuego) desde el 7 de enero de 2012, hasta el 18 de mayo de 2022.\nEl dataset sismos-arg.csv se encuentra acá y ha sido transformado a partir de datos scrappeados del buscador de sismos del INPRES, cortesía de Gustavo Juantorena. A continuación, se muestran 10 datos de dicho conjunto.\n\n\nCódigo\n#datos &lt;- read_csv(\"./fuente/04_visualizacion/sismos-arg.csv\")\n\ndevtools::install_github(\"daniellaparada/datosIC\")\nlibrary(datosIC)\ndata(sismos)\n\ndatos &lt;- sismos\n\n\n\n\n\nDataset reducido\n\n\nFecha\nHora\nLatitud\nLongitud\nProvincia\nPercibido\nMagnitud\nProfundidad\n\n\n\n\n2022-05-18\n13:09:56\n-31.820\n-67.040\nSan Juan\nFALSE\n3.0\n134\n\n\n2022-05-18\n10:18:34\n-24.216\n-67.139\nSalta\nFALSE\n3.2\n185\n\n\n2022-05-18\n09:40:09\n-31.262\n-68.708\nSan Juan\nFALSE\n3.3\n104\n\n\n2022-05-18\n09:25:43\n-32.521\n-70.085\nSan Juan\nFALSE\n2.7\n112\n\n\n2022-05-18\n08:45:59\n-28.192\n-67.376\nCatamarca\nFALSE\n2.7\n142\n\n\n2022-05-18\n08:42:33\n-32.043\n-70.030\nSan Juan\nFALSE\n2.7\n114\n\n\n2022-05-17\n23:22:48\n-23.442\n-66.846\nJujuy\nFALSE\n3.6\n210\n\n\n2022-05-17\n21:21:18\n-23.503\n-66.831\nJujuy\nFALSE\n3.6\n210\n\n\n2022-05-17\n17:17:58\n-22.794\n-66.228\nJujuy\nFALSE\n4.0\n273\n\n\n2022-05-17\n14:46:04\n-31.505\n-68.640\nSan Juan\nFALSE\n2.7\n103\n\n\n\n\n\n\n\nLa variable ´Percibido´ es la que registra si la intensidad del sismo fue percibida, o no, por la población del territorio afectado. Los sismos son más frecuentes de lo que, quizás, supongamos. El siguiente mapa ofrece una posible visualización para los sismos percibidos y no percibidos de los últimos 10 años. Dentro del mapa, es posible activar la capa topográfica para relacionar, por ejemplo, los sismos con el relieve del territorio.\n\n\nCódigo\nsismos_arg &lt;- datos\npal1 &lt;-\n  colorNumeric(palette = c(\"deeppink2\", \"deeppink4\"),\n               domain = sismos_arg$Profundidad)\npal2 &lt;-\n  colorNumeric(palette = c(\"dodgerblue2\", \"dodgerblue4\"),\n               domain = sismos_arg$Profundidad)\n\nmapa_arg &lt;- sismos_arg %&gt;%\n  leaflet(options = leafletOptions(attributionControl = FALSE)) %&gt;%\n  addTiles(group = \"OSM (default)\") %&gt;%\n  addProviderTiles(\"OpenTopoMap\",\n                   group = \"Topográfico\",\n                   options = providerTileOptions(opacity = 0.5)) %&gt;%\n  addCircleMarkers(\n    data = sismos_arg %&gt;%\n      filter(Percibido == FALSE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 0.15,\n    radius =  ~ Magnitud,\n    color = ~ pal2(Profundidad),\n    stroke = FALSE,\n    group = \"Sismos no percibidos\"\n  ) %&gt;%\n  addCircleMarkers(\n    data = sismos_arg %&gt;%\n      filter(Percibido == TRUE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 0.15,\n    radius =  ~ Magnitud,\n    color = ~ pal1(Profundidad),\n    stroke = FALSE,\n    group = \"Sismos percibidos\"\n  ) %&gt;%\n  addLayersControl(\n    baseGroups = c(\"OSM (default)\", \"Topográfico\"),\n    overlayGroups = c(\"Sismos no percibidos\", \"Sismos percibidos\"),\n    options = layersControlOptions(collapsed = TRUE)\n  )\n\nmapa_arg\n\n\n\n\n\n\nEl radio de cada punto indica la magnitud del sismo, mientras que la intensidad del color, su profundidad. Los sismos también se clasifican de acuerdo con la profundidad de su foco: desde la corteza terreste y hasta 70 km de profundidad, son superficiales; entre los 70 y los 450 km de profundidad, son intermedios; y para más de 450 km profundidad, profundos. Los más profundos, en el mapa, se ubican en la capa de sismos no percibidos (azul) sobre la falla que recorre en línea más o menos vertical las provincias de Salta y Santiago del Estero. Profundidades intermedias se encuentran, mayoritariamente, en el oeste de Jujuy. El resto, en general, corresponde a profundidades superficiales.\nLas provincias de San Juan, Salta, Jujuy, La Rioja, Mendoza, Catamarca, y Córdoba son aquellas que registran más de 1000 eventos durante el período observado. El siguiente mapa ofrece una visualización de sismos para dichas provincias, indicando con color su magnitud.\n\n\nCódigo\ntop &lt;-\n  c(\"San Juan\",\n    \"Salta\",\n    \"Jujuy\",\n    \"La Rioja\",\n    \"Mendoza\",\n    \"Catamarca\",\n    \"Córdoba\")\npal3 &lt;-\n  colorNumeric(\n    palette = c(\"gold\", \"sienna1\", \"firebrick\", \"darkred\", \"orangered4\"),\n    domain = sismos_arg$Magnitud\n  )\n\nmapa_arg_top &lt;- sismos_arg %&gt;%\n  leaflet(options = leafletOptions(attributionControl = FALSE)) %&gt;%\n  addTiles(group = \"OSM (default)\") %&gt;%\n  addProviderTiles(\"OpenTopoMap\",\n                   group = \"Topográfico\",\n                   options = providerTileOptions(opacity = 0.5)) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[1]),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[1]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[2]),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[2]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[3]),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[3]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[4]),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[4]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[5]),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[5]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[6]),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[6]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[7]),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[7]\n  ) %&gt;%\n  addLayersControl(\n    baseGroups = c(\"OSM (default)\", \"Topográfico\"),\n    overlayGroups = top,\n    options = layersControlOptions(collapsed = TRUE)\n  )\nmapa_arg_top\n\n\n\n\n\n\nLa percepción del sismo por parte de la población no está únicamente asociada a la magnitud y/o profundidad. Por ejemplo, un sismo de magnitud 2.6 y profundidad de 7 km en Córdoba es percibido, mientras que otro, de magnitud 2.7 y profundidad de 12 km en Catamarca no es percibido. Lo mismo ocurre para magnitudes y/o profundidades mayores. El siguiente mapa ofrece una visualización similar al anterior, pero restringido únicamente a los sismos percibidos del conjunto de datos.\n\n\nCódigo\nmapa_arg_top_perc &lt;- sismos_arg %&gt;%\n  leaflet(options = leafletOptions(attributionControl = FALSE)) %&gt;%\n  addTiles(group = \"OSM (default)\") %&gt;%\n  addProviderTiles(\"OpenTopoMap\",\n                   group = \"Topográfico\",\n                   options = providerTileOptions(opacity = 0.5)) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[1],\n             Percibido == TRUE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[1]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[2],\n             Percibido == TRUE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[2]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[3],\n             Percibido == TRUE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[3]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[4],\n             Percibido == TRUE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[4]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[5],\n             Percibido == TRUE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[5]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[6],\n             Percibido == TRUE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[6]\n  ) %&gt;%\n  addCircles(\n    data = sismos_arg %&gt;%\n      filter(Provincia == top[7],\n             Percibido == TRUE),\n    lng = ~ Longitud,\n    lat = ~ Latitud,\n    fillOpacity = 1,\n    color =  ~ pal3(Magnitud),\n    stroke = FALSE,\n    group = top[7]\n  ) %&gt;%\n  addLayersControl(\n    baseGroups = c(\"OSM (default)\", \"Topográfico\"),\n    overlayGroups = top,\n    options = layersControlOptions(collapsed = TRUE)\n  )\nmapa_arg_top_perc\n\n\n\n\n\n\nAllí puede verse que, mientras que en San Juan los sismos percibidos parecen ser de magnitudes altas, en Córdoba ocurre lo contrario.\nPor otro lado, la profundidad de los sismos guarda estrecha relación con la configuración geológica y tecnótica de su ubicación geográfica. El gráfico que sigue toma los eventos de las provincias con más registros y exhibe la relación entre la profundidad del sismo y los paralelos de su ubicación de registro. Llamativo resulta ver que la actividad sísmica disminuye en las profundidades que separan los sismos superficiales de los intermedios. Como veíamos, las mayores profundidades se detectan en las provincias de Salta y Jujuy, con la excepción de una pequeña región entre paralelos en San Juan.\n\n\n\n\n\n\nConocimiento sobre la configuración tectónica permite interpretaciones más profundas. Por ejemplo, la zona norte de Mendoza ubicada entre los paralelos -32.5 y -33.5 y donde se ubica parte del Gran Mendoza, se encuentra en la región de mayor peligrosidad sísmica según INPRES. Lo que ocurre es que allí se da la convergencia entre la placa Sudamericana y la placa de Nazca, que se extiende a lo largo de la fosa Peruano-Chilena y en su movimiento en la dirección Este, subduce debajo de la Sudamericana, que se mueve en sentido opuesto. Dicho mecanismo induce un régimen de esfuerzos compresionales a la placa Sudamericana y que resultan responsables de la orientación y sentido del desplazamiento de las fallas lo que, como consecuencia, caracteriza la sismicidad de la zona.\nEl siguiente gráfico muestra la profundidad en relación con la longitud de la ubicación del foco para la zona norte de Mendoza ubicada entre los paralelos -32.5° y -33.5°, zona de subducción entre la placa de Nazca y la Sudamericana (zona de Benioff). Un análisis experto puede halar en el gráfico evidencia de la placa de Nazca subducida y moviéndose en dirección Este respecto a la placa Sudamericana (más detalle sobre esto puede consultarse acá).\n\n\n\n\n\n\nLa tabla que sigue resume, por provincia, la cantidad de sismos registrados, los percibidos, así como la magnitud y profundidad mediana. De las provincias con mayor cantidad de eventos registrados, Jujuy y Salta registran los sismos más profundos, mientras que Córdoba registra sismos superficiales, con una intensidad mediana de 2.8, y es de las provincias con mayor tasa de sismos percibidos de entre las de mayor cantidad de eventos registrados. San Juan registra muchos sismos, más de la mitad de ellos de profundidad media a profunda, pero con una tasa de percepción relativamente baja, como Salta y Jujuy.\n\n\nCódigo\nknitr::kable(sismos_prov, caption = \"Resumen por provincias\")\n\n\n\nResumen por provincias\n\n\nProvincia\nn\nnperc\nMagmed\nProfmed\n\n\n\n\nBuenos Aires\n7\n5\n3.7\n31\n\n\nCatamarca\n3317\n109\n2.8\n139\n\n\nChaco\n3\n0\n3.3\n231\n\n\nChubut\n1\n0\n3.8\n169\n\n\nCorrientes\n2\n0\n3.7\n267\n\n\nCórdoba\n1145\n313\n2.8\n21\n\n\nEntre Ríos\n1\n0\n3.8\n32\n\n\nFormosa\n3\n0\n3.8\n342\n\n\nJujuy\n5270\n64\n3.2\n223\n\n\nLa Pampa\n5\n4\n3.6\n22\n\n\nLa Rioja\n4616\n166\n2.8\n114\n\n\nMendoza\n4319\n303\n2.7\n31\n\n\nNeuquén\n231\n66\n3.0\n8\n\n\nRío Negro\n1\n0\n2.9\n98\n\n\nSalta\n5781\n61\n3.2\n195\n\n\nSan Juan\n29920\n619\n2.7\n106\n\n\nSan Luis\n568\n69\n2.8\n22\n\n\nSanta Cruz\n46\n22\n3.0\n14\n\n\nSantiago del Estero\n255\n59\n3.2\n30\n\n\nTucumán\n326\n46\n2.8\n27\n\n\n\n\n\n\n\n\n\nCódigo\nknitr::kable(sismos_prov_porc, caption = \"Porcentaje de sismos percibidos para casos de más de 1000 eventos\")\n\n\n\nPorcentaje de sismos percibidos para casos de más de 1000 eventos\n\n\nProvincia\npperc\n\n\n\n\nCatamarca\n3.286102\n\n\nCórdoba\n27.336244\n\n\nJujuy\n1.214421\n\n\nLa Rioja\n3.596187\n\n\nMendoza\n7.015513\n\n\nSalta\n1.055181\n\n\nSan Juan\n2.068850"
  },
  {
    "objectID": "04_visualizacion.html#análisis-para-el-caso-de-san-juan",
    "href": "04_visualizacion.html#análisis-para-el-caso-de-san-juan",
    "title": "4  Visualización",
    "section": "4.2 Análisis para el caso de San Juan",
    "text": "4.2 Análisis para el caso de San Juan\nSan Juan registra casi 30.000 eventos para el período considerado de poco más de 10 años, con una mediana de 8 sismos diarios. Un histograma para la cantidad diaria de sismos se observa a continuación.\n\n\n\n\n\n\nEn el histograma puede verse que hay por lo menos una observación que supera los 100 sismos diarios. En efecto, se trata del terremoto del 18 de enero de 2021 en La Rinconada, San Juan, en el que se reportaron colapsos de viviendas de adobe, grietas distensivas a lo largo del eje de la Ruta Nacional 40, derrumbes parciales, y otros daños serios principalmente en los Departamentos de Pocito y Sarmiento. Durante las 72 hs posteriores al terremoto de magnitud 6.4, se registraron más de 150 réplicas de magnitudes entre 2.5 y 5.3. Más información acá.\nEl siguiente gráfico muestra la cantidad de sismos diarios. Puede apreciarse las réplicas de tal terremoto en las observaciones que corresponden a los días entre el 19 y el 23 de enero de 2021.\n\n\n\n\n\n\nComo vimos, San Juan registra más de 600 sismos percibidos durante el período, algo más que el 2% del total de sismos registrados. La frecuencia con la que se perciben tales sismos es alta. Eso puede observarse en el histograma para la cantidad de días transcurridos entre un sismo percibido y otro.\n\n\n\n\n\n\nCórdoba y Mendoza, registrando cerca del 27% y 7% de sismos percibidos respecto del total, respectivamente, tienen una frecuencia ligeramente más espaciada que la de San Juan.\n\n\n\n\n\n\n\n\n\n\n\n4.2.1 Gutenberg-Richter\nLa ley de Gutenberg-Richter es una fórmula que permite cuantificar la relación entre la frecuencia y la magnitud de la actividad sísmica de una región. La relación fue inicialmente propuesta por Charles Francis Richter y Beno Gutenberg hace más de 70 años y es aun objeto de caracterización de sismos, pues se ha mostrado relativamente invariante por región y en el tiempo.\nN es un número de sismos de magnitud mayor que M durante un período de tiempo “t”, logN es un logaritmo del número de sismos con magnitud M La ley establece que la recurrencia sísmica de magnitud mayor o igual a \\(M\\) durante un período de tiempo \\(t\\), en una región, se relaciona con la cantidad de sismos, \\(N\\), de magnitud mayor que \\(M\\) durante el período, a través de\n\\[\n\\log _{10} N=a-b M,\n\\]\ndonde \\(a\\) y \\(b\\) son constantes determinadas por la naturaleza sísmica de la región, en general, a partir de datos históricos.\nAjustamos los datos de San Juan al modelo de Gutenberg-Richter para estimar las constantes \\(a\\) y \\(b\\). En el siguiente gráfico puede verse la cantidad \\(N\\) de sismos de magnitud mayor que \\(M\\) por año (escala logarítmica en base 10). Como los años 2012 y 2022 no están completos para el año calendario, reducimos los datos al período 2013-2021.\n\n\n\n\n\n\nLa estimación por mínimos cuadrados de \\(a\\) y de \\(b\\) puede verse a continuación.\nLos coeficientes estimados son \\(6.1812\\) para \\(a\\), y \\(1.1433\\) para \\(b\\). El coeficiente \\(b\\) suele ser aproximadamente igual a \\(1\\) para sismos tectónicos. Como los datos con los que se estimó son de frecuencia anual, la cantidad \\(a/b\\) puede interpretarse como, en promedio y una vez al año, la ocurrencia de un terremoto de magnitud \\(a/b\\) o superior. En este caso, \\(a/b=5.4065\\), lo que sugiere que, en promedio, una vez al año se registra en San Juan un terremoto de magnitud aproximada \\(5.4\\) o superior.\nEn el siguiente gráfico se superpone, en azul, la curva estimada de Gutenberg-Richter\n\\[\n\\log _{10} N=6.1812-1.1433 M,\n\\]\na partir de los datos de San Juan.\n\n\n\n\n\n\n\n\n4.2.2 Estimación de la probabiblidad de ocurrencia de futuros sismos\nDel análisis de los resultados de la tasa o frecuencia media de ocurrencia por unidad de tiempo, suele derivarse la estimación de la probabilidad de ocurrencia de futuros eventos sísmicos en la región estudiada, bajo el supuesto fundamental de que el nivel de actividad sísmica de los últimos años se mantendrá aproximadamente igual, en promedio, para los próximos años.\nPara evaluar dicho riesgo sísmico, se modela la probabilidad con una distribución de Poisson, pues se supone que los eventos sísmicos se producen de un modo aleatorio e independiente, donde los tiempos de origen, las coordenadas de los focos y las magnitudes son variables independientes entre sí. Es decir, que la ocurrencia de un evento sísmico no tiene influencia en la ocurrencia de otro, y que la probabilidad de que dos eventos sucedan en el mismo sitio y al mismo tiempo es casi nula.\nEn general, tales hipótesis no concuerdan completamente con la naturaleza física de la acumulación de energía en zonas sísmicas. Sin embargo, y a pesar de estas limitaciones, este modelo provee una medida del riesgo sísmico relativamente sencilla, interpretable y típicamente usada por la comunidad experta para proveer una cuantificación de riesgo aceptable para las regiones.\nEntonces, bajo este modelo, la probabilidad de ocurrencia de al menos un sismo de magnitud mayor que \\(M\\) en los próximos \\(t\\) años se calcula como \\[\nP(t)=1-e^{-N_1(M) \\times t} .\n\\] donde \\(N_1(M)=10^{(a-b M \\log t)}\\). Luego, el número promedio de años para que un sismo de magnitud mayor que \\(M\\) ocurra está dado por \\[\nT_R=\\frac{1}{N_1(M)}.\n\\] Tomando como referencia la estimación de \\(a\\) y \\(b\\) obtenida para San Juan, la estimación de la probabilidad de ocurrencia de al menos un sismo de magnitud mayor que \\(M\\) en San Juan en los próximos \\(t\\) años, para \\(t\\in\\{1,5,10,20\\}\\), se observa en el siguiente gráfico.\n\n\n\n\n\n\nAsí, por ejemplo, la probabilidad estimada de que un sismo de magnitud superior a 6 ocurra en San Juan ocurra en los próximos 5 años es de casi \\(0.65\\), aumenta a \\(0.88\\) para los próximos 10 años y es de casi \\(1\\) para los próximos 20. En efecto, los únicos sismos registrados en los datos de tal magnitud son los de noviembre de 2016 y enero de 2021. Sismos de magnitud superior a 4.5 en San Juan son casi seguros para los próximos años, en todos los casos.\n\n\nCódigo\nknitr::kable(sismos_SJ %&gt;%\n  filter(Magnitud &gt; 6), caption = \"Sismos de magnitud superior a 6 en San Juan, desde 2013 a 2021\")\n\n\n\nSismos de magnitud superior a 6 en San Juan, desde 2013 a 2021\n\n\nFecha\nHora\nLatitud\nLongitud\nProvincia\nPercibido\nMagnitud\nProfundidad\nFechaHora\nAño\n\n\n\n\n2016-11-20\n17:57:44\n-31.630\n-68.663\nSan Juan\nTRUE\n6.3\n107\n2016-11-20 17:57:44\n2016\n\n\n2021-01-18\n23:46:20\n-31.854\n-68.963\nSan Juan\nTRUE\n6.4\n8\n2021-01-18 23:46:20\n2021"
  },
  {
    "objectID": "04_visualizacion.html#sobre-el-dataset-de-sismos",
    "href": "04_visualizacion.html#sobre-el-dataset-de-sismos",
    "title": "4  Visualización",
    "section": "5.1 Sobre el dataset de sismos",
    "text": "5.1 Sobre el dataset de sismos\nLos datos de este ejemplo corresponden a datos scrappeados del buscador de sismos del INPRES, cuyo buscador está disponible acá. En el dataset sismos_all.csv, disponible acá, en el que se registran eventos sísmicos en territorio argentino y diferentes variables asociadas a estos, en particular, si se trata de un sismo que se haya sentido o no.\nLos sismos registrados en INPRES pueden estar revisados por un sismólogo y, posiblemente a razón de ello, algunas inconsistencias en la nomenclatura de las provincias es hallada. El siguiente toma el dataset de sismos_all.csv y:\n\nconvierte en variable la percepción del sismo teniendo en cuenta que la intensidad solo se registra para sismos percibidos,\nlimpia y unifica el formato de fecha de los eventos,\nextrae la información de profundidad, eliminando las unidades que forman parte del dato,\nfiltra los datos para obtener los datos del territorio continental argentino (excluyendo a Tierra del Fuego),\ny recodifica los nombres de las provincias para unificar su identificación.\n\n\n\nCódigo\n# importo datos de sismos\nsismos &lt;- vroom(\"./fuente/04_visualizacion/sismos_all.csv\")\nsismos$Fecha &lt;- as.Date(sismos$Fecha, tryFormats = c(\"%d/%m/%Y\"))\n\n# info de casi 10 años\nmin(sismos$Fecha)\nmax(sismos$Fecha)\n\n# dummy para los percibidos\nsismos &lt;- sismos %&gt;%\n  mutate(\n    Percibido = !is.na(Intensidad),\n    Magnitud = Magn.,\n    Profundidad = Profund.\n  )\n\n# quito las unidades km. en intensidad\nsismos$Profundidad &lt;- as.numeric(str_sub(sismos$Profundidad, 1,-4))\n\n# sismos en Argentina Continental (saco TdF porque se corre mucho el mapa)\nsismos_arg &lt;- sismos %&gt;%\n  filter(\n    Provincia != \"OCEANO PACIFICO\",\n    Provincia != \"CHILE\",\n    Provincia != \"MAULE - CHILE\",\n    Provincia != \"REPÚBLICA DE CHILE\",\n    Provincia != \"REPUBLICA DE CHILE\",\n    Provincia != \"SUR DE CHILE\",\n    Provincia != \"TFAIAS\",\n    Provincia != \"NORTH ISLAND, NEW ZEALAND\",\n    Provincia != \"REGION NOT FOUND.\",\n    Provincia != \"PERU\",\n    Provincia != \"PENINSULA ANTARTICA\",\n    Provincia != \"PASAJE DE DRAKE\",\n    Provincia != \"NORTHWEST OF KURIL ISLANDS\",\n    Provincia != \"NTARTIDA\",\n    Provincia != \"MAR DE SCOTIA\",\n    Provincia != \"MAR ARGENTINO\",\n    Provincia != \"ISLAS SANDWICH DEL SUR\",\n    Provincia != \"ISLAS SANDWICH\",\n    Provincia != \"ISLAS SHETLAND\",\n    Provincia != \"ISLAS SHETLAND DEL SUR\",\n    Provincia != \"ESTRECHO DE DRAKE\",\n    Provincia != \"FILIPINAS\",\n    Provincia != \"I.SANDWICH DEL SUR\",\n    Provincia != \"SECTOR ANTARTICO\",\n    Provincia != \"IS. SHETLAND DEL SUR\",\n    Provincia != \"ISLAS GEORGIA DEL SUR\",\n    Provincia != \"ISLAS GEORGIAS DEL SUR\",\n    Provincia != \"ISLAS GEORGIAS y SANDWICH DEL SUR\",\n    Provincia != \"ISLAS GIORGIA Y SANDWICH DEL SUR\",\n    Provincia != \"ISLAS ORCADAS\",\n    Provincia != \"ISLAS ORCADAS DEL SUR\",\n    Provincia != \"ATLANTICO SUR\",\n    Provincia != \"BOLIVIA\",\n    Provincia != \"PARAGUAY\",\n    Provincia != \"LIM. ARG-CHILE\",\n    Provincia != \"LIM.ARGENTINA-CHILE\",\n    Provincia != \"LIM.CHILE-ARGENTINA\",\n    Provincia != \"LIMITE ARGENTINA-CHILE\",\n    Provincia != \"LIMITE ARGENTINA CHILE\",\n    Provincia != \"TIERRA DEL FUEGO\",\n    Provincia != \"ISLAS GEORGIAS Y SANDWICH DEL SUR\"\n  )\n\ntable(sismos_arg$Provincia)\n\n# recodifico provincias\nsismos_arg &lt;- sismos_arg %&gt;%\n  mutate(\n    Provincia = recode(\n      Provincia,\n      \"BUENOS AIRES\" = \"Buenos Aires\",\n      \"CATAMARCA\" = \"Catamarca\",\n      \"CATAMARCA}\" = \"Catamarca\",\n      \"CATAMARCA LIM. TUCUMAN\" = \"Catamarca\",\n      \"CATAMARCA(LIM.CON TUCUMAN)\" = \"Catamarca\",\n      \"CATAMARCA(LIM.CON TUCUMÁN)\" = \"Catamarca\",\n      \"CHACO\" = \"Chaco\",\n      \"CHUBUT\" = \"Chubut\",\n      \"CORDOBA\" = \"Córdoba\",\n      \"CORDOBA(LIM.CON SAN LUIS)\" = \"Córdoba\",\n      \"CORDOBA LIM. SAN LUIS\" = \"Córdoba\",\n      \"CORRIENTES\" = \"Corrientes\",\n      \"ENTRE RIOS\" = \"Entre Ríos\",\n      \"FORMOSA\" = \"Formosa\",\n      \"jujuy\" = \"Jujuy\",\n      \"JUJUY\" = \"Jujuy\",\n      \"JUJUY(LIM.CON SALTA)\" = \"Jujuy\",\n      \"LA PAMPA\" = \"La Pampa\",\n      \"LA RIOJA\" = \"La Rioja\",\n      \"LA RIOJA LIM. SAN JUAN\" = \"La Rioja\",\n      \"LA RIOJA(LIM.CON CATAMARCA)\" = \"La Rioja\",\n      \"LA RIOJA(LIM.CON SAN JUAN)\" = \"La Rioja\",\n      \"LIM. CATAMARCA-TUCUMAN\" = \"Catamarca\",\n      \"LIM. LA RIOJA - SAN JUAN\" = \"La Rioja\",\n      \"LIMITE CATAMARCA - TUCUMAN\" = \"Catamarca\",\n      \"LIMITE CORDOBA - SAN LUIS\" = \"Córdoba\",\n      \"LIMITE JUJUY-SALTA\" = \"Jujuy\",\n      \"LIMITE JUJUY - SALTA\" = \"Jujuy\",\n      \"LIMITE LA RIOJA-CATAMARCA\" = \"La Rioja\",\n      \"LIMITE MENDOZA-SAN JUAN\" = \"Mendoza\",\n      \"LIMITE MENDOZA - SAN JUAN\" = \"Mendoza\",\n      \"LIMITE SALTA-JUJUY\" = \"Salta\",\n      \"LIMITE SALTA - CATAMARCA\" = \"Salta\",\n      \"LIMITE SALTA - JUJUY\" = \"Salta\",\n      \"LIMITE SAN JUAN-MENDOZA\" = \"San Juan\",\n      \"LIMITE SAN JUAN - LA RIOJA\" = \"San Juan\",\n      \"LIMITE SAN JUAN - MENDOZA\" = \"San Juan\",\n      \"LIMITE SAN JUAN SAN LUIS\" = \"San Juan\",\n      \"LIMITE SAN LUIS-SAN JUAN\" = \"San Luis\",\n      \"LIMITE TUCUMAN - CATAMARCA\" = \"Tucumán\",\n      \"MENDOZa\" = \"Mendoza\",\n      \"MENDOZA\" = \"Mendoza\",\n      \"MENDOZA(LIM.CON SAN JUAN)\" = \"Mendoza\",\n      \"MENDOZA}\" = \"Mendoza\",\n      \"MMENDOZA\" = \"Mendoza\",\n      \"NEUQUEN\" = \"Neuquén\",\n      \"RIO NEGRO\" = \"Río Negro\",\n      \"SALTA\" = \"Salta\",\n      \"SALTA (limite con Jujuy)\" = \"Salta\",\n      \"SALTA LIM. JUJUY\" = \"Salta\",\n      \"SALTA(LIM.CON JUJUY)\" = \"Salta\",\n      \"SALTA(LIM.CON TUCUMAN)\" = \"Salta\",\n      \"SAN JUAN LIM. MENDOZA\" = \"San Juan\",\n      \"SAN JUAN (LIM.CON SAN LUIS)\" = \"San Juan\",\n      \"SAN JUAN LIM. LA RIOJA\" = \"San Juan\",\n      \"SAN JUAN LIM.CON SAN LUIS\" = \"San Juan\",\n      \"SAN JUAN LIM.CON MENDOZA\" = \"San Juan\",\n      \"SAN JUAN LIM. MENDOZA\" = \"San Juan\",\n      \"SAN JUAN(LIM.ARG-CHI)\" = \"San Juan\",\n      \"SAN JUAN(LIM.CON LA RIOJA)\" = \"San Juan\",\n      \"LIMITE SAN JUAN - SAN LUIS\" = \"San Juan\",\n      \"LIMITE SAN JUAN LA RIOJA\" = \"San Juan\",\n      \"SAN JUAN(LIM.CON MENDOZA)\" = \"San Juan\",\n      \"SAN JUA\" = \"San Juan\",\n      \"SAn JUAN\" = \"San Juan\",\n      \"SAN JUAN\" = \"San Juan\",\n      \"LIMITE SAN JUAN MENDOZA\" = \"San Juan\",\n      \"SAN JUAN(LIM.CON SAN LUIS)\" = \"San Juan\",\n      \"SAN LUIS\" = \"San Luis\",\n      \"SANTA CRUZ\" = \"Santa Cruz\",\n      \"SANTIAGO DEL ESTERO\" = \"Santiago del Estero\",\n      \"SGO.DEL ESTERO LIM.CON CATAMARCA\" = \"Santiago del Estero\",\n      \"TUCUMAN\" = \"Tucumán\",\n      \"TUCUMÁN\" = \"Tucumán\",\n      \"TUCUMAN LIM. SALTA\" = \"Tucumán\",\n      \"TUCUMAN(LIM.CON CATAMARCA)\" = \"Tucumán\"\n    )\n  )\n\nsort(-table(sismos_arg$Provincia))\n\n# Elijo variables\nsismos_arg &lt;- sismos_arg %&gt;%\n  select(c(2, 3, 4, 5, 9, 10, 11, 12))\n\n\n\n5.1.1 Dataset pre-procesado: sismos-arg.csv\nPara limpiar y reducir los datos al estudio de interés, se crea un dataset reducido, sismos-arg.csv, disponible acá, a partir de los datos scrappeados del buscador del INPRES. Se incluyen datos de sismos de diferente intensidad y magnitud en la región continental del país (excluyendo Tierra del Fuego) desde el 7 de enero de 2012, hasta el 18 de mayo de 2022, y se dispone de las siguientes variables.\n\nFecha: fecha del evento sísmico, en el formato año-mes-día.\nHora: hora del evento sísmico, en el formato hora-minuto-segundo.\nLatitud: latitud del evento registrado.\nLongitud: longitud del evento registrado.\nProvincia: nombre de la provincia del evento registrado.\nPercibido: TRUE si la magnitud fue percibida, FALSE si no lo fue.\nMagnitud: magnitud del sismo en la escala de Richter.\nProfundidad: profundidad (km) registrada del sismo.\n\nEl dataset también está disponible en la librería datosIC bajo el nombre de sismos.\n\n\nCódigo\ndevtools::install_github(\"daniellaparada/datosIC\")\nlibrary(datosIC)\ndata(sismos)\n\n\n\n\nCódigo\nknitr::kable(sismos[1:10,], caption = \"Dataset reducido disponible en la librería 'datosIC'.\")\n\n\n\nDataset reducido disponible en la librería 'datosIC'.\n\n\nFecha\nHora\nLatitud\nLongitud\nProvincia\nPercibido\nMagnitud\nProfundidad\n\n\n\n\n2022-05-18\n13:09:56\n-31.820\n-67.040\nSan Juan\nFALSE\n3.0\n134\n\n\n2022-05-18\n10:18:34\n-24.216\n-67.139\nSalta\nFALSE\n3.2\n185\n\n\n2022-05-18\n09:40:09\n-31.262\n-68.708\nSan Juan\nFALSE\n3.3\n104\n\n\n2022-05-18\n09:25:43\n-32.521\n-70.085\nSan Juan\nFALSE\n2.7\n112\n\n\n2022-05-18\n08:45:59\n-28.192\n-67.376\nCatamarca\nFALSE\n2.7\n142\n\n\n2022-05-18\n08:42:33\n-32.043\n-70.030\nSan Juan\nFALSE\n2.7\n114\n\n\n2022-05-17\n23:22:48\n-23.442\n-66.846\nJujuy\nFALSE\n3.6\n210\n\n\n2022-05-17\n21:21:18\n-23.503\n-66.831\nJujuy\nFALSE\n3.6\n210\n\n\n2022-05-17\n17:17:58\n-22.794\n-66.228\nJujuy\nFALSE\n4.0\n273\n\n\n2022-05-17\n14:46:04\n-31.505\n-68.640\nSan Juan\nFALSE\n2.7\n103"
  }
]